// Copyright (c) David Pine. All rights reserved.
// Licensed under the MIT License.

namespace Actions.Octokit.Tests;

public class ContextTests
{
    [Fact]
    public void ContextCorrectlyMaterializesTest()
    {
        #region Don't expand this...
        var json = """
            {
              "event_name": "pull_request",
              "payload": {
                  "action": "opened",
                  "number": 4,
                  "pull_request": {
                    "_links": {
                      "comments": {
                        "href": "https://api.github.com/repos/IEvangelist/actions/issues/4/comments"
                      },
                      "commits": {
                        "href": "https://api.github.com/repos/IEvangelist/actions/pulls/4/commits"
                      },
                      "html": {
                        "href": "https://github.com/IEvangelist/actions/pull/4"
                      },
                      "issue": {
                        "href": "https://api.github.com/repos/IEvangelist/actions/issues/4"
                      },
                      "review_comment": {
                        "href": "https://api.github.com/repos/IEvangelist/actions/pulls/comments{/number}"
                      },
                      "review_comments": {
                        "href": "https://api.github.com/repos/IEvangelist/actions/pulls/4/comments"
                      },
                      "self": {
                        "href": "https://api.github.com/repos/IEvangelist/actions/pulls/4"
                      },
                      "statuses": {
                        "href": "https://api.github.com/repos/IEvangelist/actions/statuses/c57147dc32049c3aef58b92d72d871fe2277c972"
                      }
                    },
                    "active_lock_reason": null,
                    "additions": 3,
                    "assignee": null,
                    "assignees": [],
                    "author_association": "OWNER",
                    "auto_merge": null,
                    "base": {
                      "label": "IEvangelist:main",
                      "ref": "main",
                      "repo": {
                        "allow_auto_merge": false,
                        "allow_forking": true,
                        "allow_merge_commit": true,
                        "allow_rebase_merge": true,
                        "allow_squash_merge": true,
                        "allow_update_branch": false,
                        "archive_url": "https://api.github.com/repos/IEvangelist/actions/{archive_format}{/ref}",
                        "archived": false,
                        "assignees_url": "https://api.github.com/repos/IEvangelist/actions/assignees{/user}",
                        "blobs_url": "https://api.github.com/repos/IEvangelist/actions/git/blobs{/sha}",
                        "branches_url": "https://api.github.com/repos/IEvangelist/actions/branches{/branch}",
                        "clone_url": "https://github.com/IEvangelist/actions.git",
                        "collaborators_url": "https://api.github.com/repos/IEvangelist/actions/collaborators{/collaborator}",
                        "comments_url": "https://api.github.com/repos/IEvangelist/actions/comments{/number}",
                        "commits_url": "https://api.github.com/repos/IEvangelist/actions/commits{/sha}",
                        "compare_url": "https://api.github.com/repos/IEvangelist/actions/compare/{base}...{head}",
                        "contents_url": "https://api.github.com/repos/IEvangelist/actions/contents/{+path}",
                        "contributors_url": "https://api.github.com/repos/IEvangelist/actions/contributors",
                        "created_at": "2023-08-01T18:34:16Z",
                        "default_branch": "main",
                        "delete_branch_on_merge": false,
                        "deployments_url": "https://api.github.com/repos/IEvangelist/actions/deployments",
                        "description": null,
                        "disabled": false,
                        "downloads_url": "https://api.github.com/repos/IEvangelist/actions/downloads",
                        "events_url": "https://api.github.com/repos/IEvangelist/actions/events",
                        "fork": false,
                        "forks": 0,
                        "forks_count": 0,
                        "forks_url": "https://api.github.com/repos/IEvangelist/actions/forks",
                        "full_name": "IEvangelist/actions",
                        "git_commits_url": "https://api.github.com/repos/IEvangelist/actions/git/commits{/sha}",
                        "git_refs_url": "https://api.github.com/repos/IEvangelist/actions/git/refs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/IEvangelist/actions/git/tags{/sha}",
                        "git_url": "git://github.com/IEvangelist/actions.git",
                        "has_discussions": false,
                        "has_downloads": true,
                        "has_issues": true,
                        "has_pages": false,
                        "has_projects": true,
                        "has_wiki": true,
                        "homepage": null,
                        "hooks_url": "https://api.github.com/repos/IEvangelist/actions/hooks",
                        "html_url": "https://github.com/IEvangelist/actions",
                        "id": 673488426,
                        "is_template": false,
                        "issue_comment_url": "https://api.github.com/repos/IEvangelist/actions/issues/comments{/number}",
                        "issue_events_url": "https://api.github.com/repos/IEvangelist/actions/issues/events{/number}",
                        "issues_url": "https://api.github.com/repos/IEvangelist/actions/issues{/number}",
                        "keys_url": "https://api.github.com/repos/IEvangelist/actions/keys{/key_id}",
                        "labels_url": "https://api.github.com/repos/IEvangelist/actions/labels{/name}",
                        "language": null,
                        "languages_url": "https://api.github.com/repos/IEvangelist/actions/languages",
                        "license": null,
                        "merge_commit_message": "PR_TITLE",
                        "merge_commit_title": "MERGE_MESSAGE",
                        "merges_url": "https://api.github.com/repos/IEvangelist/actions/merges",
                        "milestones_url": "https://api.github.com/repos/IEvangelist/actions/milestones{/number}",
                        "mirror_url": null,
                        "name": "actions",
                        "node_id": "R_kgDOKCSeKg",
                        "notifications_url": "https://api.github.com/repos/IEvangelist/actions/notifications{?since,all,participating}",
                        "open_issues": 3,
                        "open_issues_count": 3,
                        "owner": {
                          "avatar_url": "https://avatars.githubusercontent.com/u/7679720?v=4",
                          "events_url": "https://api.github.com/users/IEvangelist/events{/privacy}",
                          "followers_url": "https://api.github.com/users/IEvangelist/followers",
                          "following_url": "https://api.github.com/users/IEvangelist/following{/other_user}",
                          "gists_url": "https://api.github.com/users/IEvangelist/gists{/gist_id}",
                          "gravatar_id": "",
                          "html_url": "https://github.com/IEvangelist",
                          "id": 7679720,
                          "login": "IEvangelist",
                          "node_id": "MDQ6VXNlcjc2Nzk3MjA=",
                          "organizations_url": "https://api.github.com/users/IEvangelist/orgs",
                          "received_events_url": "https://api.github.com/users/IEvangelist/received_events",
                          "repos_url": "https://api.github.com/users/IEvangelist/repos",
                          "site_admin": false,
                          "starred_url": "https://api.github.com/users/IEvangelist/starred{/owner}{/repo}",
                          "subscriptions_url": "https://api.github.com/users/IEvangelist/subscriptions",
                          "type": "User",
                          "url": "https://api.github.com/users/IEvangelist"
                        },
                        "private": true,
                        "pulls_url": "https://api.github.com/repos/IEvangelist/actions/pulls{/number}",
                        "pushed_at": "2023-09-13T19:56:42Z",
                        "releases_url": "https://api.github.com/repos/IEvangelist/actions/releases{/id}",
                        "size": 11,
                        "squash_merge_commit_message": "COMMIT_MESSAGES",
                        "squash_merge_commit_title": "COMMIT_OR_PR_TITLE",
                        "ssh_url": "git@github.com:IEvangelist/actions.git",
                        "stargazers_count": 0,
                        "stargazers_url": "https://api.github.com/repos/IEvangelist/actions/stargazers",
                        "statuses_url": "https://api.github.com/repos/IEvangelist/actions/statuses/{sha}",
                        "subscribers_url": "https://api.github.com/repos/IEvangelist/actions/subscribers",
                        "subscription_url": "https://api.github.com/repos/IEvangelist/actions/subscription",
                        "svn_url": "https://github.com/IEvangelist/actions",
                        "tags_url": "https://api.github.com/repos/IEvangelist/actions/tags",
                        "teams_url": "https://api.github.com/repos/IEvangelist/actions/teams",
                        "topics": [],
                        "trees_url": "https://api.github.com/repos/IEvangelist/actions/git/trees{/sha}",
                        "updated_at": "2023-08-01T18:34:17Z",
                        "url": "https://api.github.com/repos/IEvangelist/actions",
                        "use_squash_pr_title_as_default": false,
                        "visibility": "private",
                        "watchers": 0,
                        "watchers_count": 0,
                        "web_commit_signoff_required": false
                      },
                      "sha": "c04433bc2318d4e1956fd61e3dab77ac3be236f6",
                      "user": {
                        "avatar_url": "https://avatars.githubusercontent.com/u/7679720?v=4",
                        "events_url": "https://api.github.com/users/IEvangelist/events{/privacy}",
                        "followers_url": "https://api.github.com/users/IEvangelist/followers",
                        "following_url": "https://api.github.com/users/IEvangelist/following{/other_user}",
                        "gists_url": "https://api.github.com/users/IEvangelist/gists{/gist_id}",
                        "gravatar_id": "",
                        "html_url": "https://github.com/IEvangelist",
                        "id": 7679720,
                        "login": "IEvangelist",
                        "node_id": "MDQ6VXNlcjc2Nzk3MjA=",
                        "organizations_url": "https://api.github.com/users/IEvangelist/orgs",
                        "received_events_url": "https://api.github.com/users/IEvangelist/received_events",
                        "repos_url": "https://api.github.com/users/IEvangelist/repos",
                        "site_admin": false,
                        "starred_url": "https://api.github.com/users/IEvangelist/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/IEvangelist/subscriptions",
                        "type": "User",
                        "url": "https://api.github.com/users/IEvangelist"
                      }
                    },
                    "body": null,
                    "changed_files": 1,
                    "closed_at": null,
                    "comments": 0,
                    "comments_url": "https://api.github.com/repos/IEvangelist/actions/issues/4/comments",
                    "commits": 1,
                    "commits_url": "https://api.github.com/repos/IEvangelist/actions/pulls/4/commits",
                    "created_at": "2023-09-13T19:56:42Z",
                    "deletions": 0,
                    "diff_url": "https://github.com/IEvangelist/actions/pull/4.diff",
                    "draft": false,
                    "head": {
                      "label": "IEvangelist:test",
                      "ref": "test",
                      "repo": {
                        "allow_auto_merge": false,
                        "allow_forking": true,
                        "allow_merge_commit": true,
                        "allow_rebase_merge": true,
                        "allow_squash_merge": true,
                        "allow_update_branch": false,
                        "archive_url": "https://api.github.com/repos/IEvangelist/actions/{archive_format}{/ref}",
                        "archived": false,
                        "assignees_url": "https://api.github.com/repos/IEvangelist/actions/assignees{/user}",
                        "blobs_url": "https://api.github.com/repos/IEvangelist/actions/git/blobs{/sha}",
                        "branches_url": "https://api.github.com/repos/IEvangelist/actions/branches{/branch}",
                        "clone_url": "https://github.com/IEvangelist/actions.git",
                        "collaborators_url": "https://api.github.com/repos/IEvangelist/actions/collaborators{/collaborator}",
                        "comments_url": "https://api.github.com/repos/IEvangelist/actions/comments{/number}",
                        "commits_url": "https://api.github.com/repos/IEvangelist/actions/commits{/sha}",
                        "compare_url": "https://api.github.com/repos/IEvangelist/actions/compare/{base}...{head}",
                        "contents_url": "https://api.github.com/repos/IEvangelist/actions/contents/{+path}",
                        "contributors_url": "https://api.github.com/repos/IEvangelist/actions/contributors",
                        "created_at": "2023-08-01T18:34:16Z",
                        "default_branch": "main",
                        "delete_branch_on_merge": false,
                        "deployments_url": "https://api.github.com/repos/IEvangelist/actions/deployments",
                        "description": null,
                        "disabled": false,
                        "downloads_url": "https://api.github.com/repos/IEvangelist/actions/downloads",
                        "events_url": "https://api.github.com/repos/IEvangelist/actions/events",
                        "fork": false,
                        "forks": 0,
                        "forks_count": 0,
                        "forks_url": "https://api.github.com/repos/IEvangelist/actions/forks",
                        "full_name": "IEvangelist/actions",
                        "git_commits_url": "https://api.github.com/repos/IEvangelist/actions/git/commits{/sha}",
                        "git_refs_url": "https://api.github.com/repos/IEvangelist/actions/git/refs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/IEvangelist/actions/git/tags{/sha}",
                        "git_url": "git://github.com/IEvangelist/actions.git",
                        "has_discussions": false,
                        "has_downloads": true,
                        "has_issues": true,
                        "has_pages": false,
                        "has_projects": true,
                        "has_wiki": true,
                        "homepage": null,
                        "hooks_url": "https://api.github.com/repos/IEvangelist/actions/hooks",
                        "html_url": "https://github.com/IEvangelist/actions",
                        "id": 673488426,
                        "is_template": false,
                        "issue_comment_url": "https://api.github.com/repos/IEvangelist/actions/issues/comments{/number}",
                        "issue_events_url": "https://api.github.com/repos/IEvangelist/actions/issues/events{/number}",
                        "issues_url": "https://api.github.com/repos/IEvangelist/actions/issues{/number}",
                        "keys_url": "https://api.github.com/repos/IEvangelist/actions/keys{/key_id}",
                        "labels_url": "https://api.github.com/repos/IEvangelist/actions/labels{/name}",
                        "language": null,
                        "languages_url": "https://api.github.com/repos/IEvangelist/actions/languages",
                        "license": null,
                        "merge_commit_message": "PR_TITLE",
                        "merge_commit_title": "MERGE_MESSAGE",
                        "merges_url": "https://api.github.com/repos/IEvangelist/actions/merges",
                        "milestones_url": "https://api.github.com/repos/IEvangelist/actions/milestones{/number}",
                        "mirror_url": null,
                        "name": "actions",
                        "node_id": "R_kgDOKCSeKg",
                        "notifications_url": "https://api.github.com/repos/IEvangelist/actions/notifications{?since,all,participating}",
                        "open_issues": 3,
                        "open_issues_count": 3,
                        "owner": {
                          "avatar_url": "https://avatars.githubusercontent.com/u/7679720?v=4",
                          "events_url": "https://api.github.com/users/IEvangelist/events{/privacy}",
                          "followers_url": "https://api.github.com/users/IEvangelist/followers",
                          "following_url": "https://api.github.com/users/IEvangelist/following{/other_user}",
                          "gists_url": "https://api.github.com/users/IEvangelist/gists{/gist_id}",
                          "gravatar_id": "",
                          "html_url": "https://github.com/IEvangelist",
                          "id": 7679720,
                          "login": "IEvangelist",
                          "node_id": "MDQ6VXNlcjc2Nzk3MjA=",
                          "organizations_url": "https://api.github.com/users/IEvangelist/orgs",
                          "received_events_url": "https://api.github.com/users/IEvangelist/received_events",
                          "repos_url": "https://api.github.com/users/IEvangelist/repos",
                          "site_admin": false,
                          "starred_url": "https://api.github.com/users/IEvangelist/starred{/owner}{/repo}",
                          "subscriptions_url": "https://api.github.com/users/IEvangelist/subscriptions",
                          "type": "User",
                          "url": "https://api.github.com/users/IEvangelist"
                        },
                        "private": true,
                        "pulls_url": "https://api.github.com/repos/IEvangelist/actions/pulls{/number}",
                        "pushed_at": "2023-09-13T19:56:42Z",
                        "releases_url": "https://api.github.com/repos/IEvangelist/actions/releases{/id}",
                        "size": 11,
                        "squash_merge_commit_message": "COMMIT_MESSAGES",
                        "squash_merge_commit_title": "COMMIT_OR_PR_TITLE",
                        "ssh_url": "git@github.com:IEvangelist/actions.git",
                        "stargazers_count": 0,
                        "stargazers_url": "https://api.github.com/repos/IEvangelist/actions/stargazers",
                        "statuses_url": "https://api.github.com/repos/IEvangelist/actions/statuses/{sha}",
                        "subscribers_url": "https://api.github.com/repos/IEvangelist/actions/subscribers",
                        "subscription_url": "https://api.github.com/repos/IEvangelist/actions/subscription",
                        "svn_url": "https://github.com/IEvangelist/actions",
                        "tags_url": "https://api.github.com/repos/IEvangelist/actions/tags",
                        "teams_url": "https://api.github.com/repos/IEvangelist/actions/teams",
                        "topics": [],
                        "trees_url": "https://api.github.com/repos/IEvangelist/actions/git/trees{/sha}",
                        "updated_at": "2023-08-01T18:34:17Z",
                        "url": "https://api.github.com/repos/IEvangelist/actions",
                        "use_squash_pr_title_as_default": false,
                        "visibility": "private",
                        "watchers": 0,
                        "watchers_count": 0,
                        "web_commit_signoff_required": false
                      },
                      "sha": "c57147dc32049c3aef58b92d72d871fe2277c972",
                      "user": {
                        "avatar_url": "https://avatars.githubusercontent.com/u/7679720?v=4",
                        "events_url": "https://api.github.com/users/IEvangelist/events{/privacy}",
                        "followers_url": "https://api.github.com/users/IEvangelist/followers",
                        "following_url": "https://api.github.com/users/IEvangelist/following{/other_user}",
                        "gists_url": "https://api.github.com/users/IEvangelist/gists{/gist_id}",
                        "gravatar_id": "",
                        "html_url": "https://github.com/IEvangelist",
                        "id": 7679720,
                        "login": "IEvangelist",
                        "node_id": "MDQ6VXNlcjc2Nzk3MjA=",
                        "organizations_url": "https://api.github.com/users/IEvangelist/orgs",
                        "received_events_url": "https://api.github.com/users/IEvangelist/received_events",
                        "repos_url": "https://api.github.com/users/IEvangelist/repos",
                        "site_admin": false,
                        "starred_url": "https://api.github.com/users/IEvangelist/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/IEvangelist/subscriptions",
                        "type": "User",
                        "url": "https://api.github.com/users/IEvangelist"
                      }
                    },
                    "html_url": "https://github.com/IEvangelist/actions/pull/4",
                    "id": 1514477270,
                    "issue_url": "https://api.github.com/repos/IEvangelist/actions/issues/4",
                    "labels": [],
                    "locked": false,
                    "maintainer_can_modify": false,
                    "merge_commit_sha": null,
                    "mergeable": null,
                    "mergeable_state": "unknown",
                    "merged": false,
                    "merged_at": null,
                    "merged_by": null,
                    "milestone": null,
                    "node_id": "PR_kwDOKCSeKs5aRRbW",
                    "number": 4,
                    "patch_url": "https://github.com/IEvangelist/actions/pull/4.patch",
                    "rebaseable": null,
                    "requested_reviewers": [],
                    "requested_teams": [],
                    "review_comment_url": "https://api.github.com/repos/IEvangelist/actions/pulls/comments{/number}",
                    "review_comments": 0,
                    "review_comments_url": "https://api.github.com/repos/IEvangelist/actions/pulls/4/comments",
                    "state": "open",
                    "statuses_url": "https://api.github.com/repos/IEvangelist/actions/statuses/c57147dc32049c3aef58b92d72d871fe2277c972",
                    "title": "Create README.md",
                    "updated_at": "2023-09-13T19:56:42Z",
                    "url": "https://api.github.com/repos/IEvangelist/actions/pulls/4",
                    "user": {
                      "avatar_url": "https://avatars.githubusercontent.com/u/7679720?v=4",
                      "events_url": "https://api.github.com/users/IEvangelist/events{/privacy}",
                      "followers_url": "https://api.github.com/users/IEvangelist/followers",
                      "following_url": "https://api.github.com/users/IEvangelist/following{/other_user}",
                      "gists_url": "https://api.github.com/users/IEvangelist/gists{/gist_id}",
                      "gravatar_id": "",
                      "html_url": "https://github.com/IEvangelist",
                      "id": 7679720,
                      "login": "IEvangelist",
                      "node_id": "MDQ6VXNlcjc2Nzk3MjA=",
                      "organizations_url": "https://api.github.com/users/IEvangelist/orgs",
                      "received_events_url": "https://api.github.com/users/IEvangelist/received_events",
                      "repos_url": "https://api.github.com/users/IEvangelist/repos",
                      "site_admin": false,
                      "starred_url": "https://api.github.com/users/IEvangelist/starred{/owner}{/repo}",
                      "subscriptions_url": "https://api.github.com/users/IEvangelist/subscriptions",
                      "type": "User",
                      "url": "https://api.github.com/users/IEvangelist"
                    }
                  },
                  "repository": {
                    "allow_forking": true,
                    "archive_url": "https://api.github.com/repos/IEvangelist/actions/{archive_format}{/ref}",
                    "archived": false,
                    "assignees_url": "https://api.github.com/repos/IEvangelist/actions/assignees{/user}",
                    "blobs_url": "https://api.github.com/repos/IEvangelist/actions/git/blobs{/sha}",
                    "branches_url": "https://api.github.com/repos/IEvangelist/actions/branches{/branch}",
                    "clone_url": "https://github.com/IEvangelist/actions.git",
                    "collaborators_url": "https://api.github.com/repos/IEvangelist/actions/collaborators{/collaborator}",
                    "comments_url": "https://api.github.com/repos/IEvangelist/actions/comments{/number}",
                    "commits_url": "https://api.github.com/repos/IEvangelist/actions/commits{/sha}",
                    "compare_url": "https://api.github.com/repos/IEvangelist/actions/compare/{base}...{head}",
                    "contents_url": "https://api.github.com/repos/IEvangelist/actions/contents/{+path}",
                    "contributors_url": "https://api.github.com/repos/IEvangelist/actions/contributors",
                    "created_at": "2023-08-01T18:34:16Z",
                    "default_branch": "main",
                    "deployments_url": "https://api.github.com/repos/IEvangelist/actions/deployments",
                    "description": null,
                    "disabled": false,
                    "downloads_url": "https://api.github.com/repos/IEvangelist/actions/downloads",
                    "events_url": "https://api.github.com/repos/IEvangelist/actions/events",
                    "fork": false,
                    "forks": 0,
                    "forks_count": 0,
                    "forks_url": "https://api.github.com/repos/IEvangelist/actions/forks",
                    "full_name": "IEvangelist/actions",
                    "git_commits_url": "https://api.github.com/repos/IEvangelist/actions/git/commits{/sha}",
                    "git_refs_url": "https://api.github.com/repos/IEvangelist/actions/git/refs{/sha}",
                    "git_tags_url": "https://api.github.com/repos/IEvangelist/actions/git/tags{/sha}",
                    "git_url": "git://github.com/IEvangelist/actions.git",
                    "has_discussions": false,
                    "has_downloads": true,
                    "has_issues": true,
                    "has_pages": false,
                    "has_projects": true,
                    "has_wiki": true,
                    "homepage": null,
                    "hooks_url": "https://api.github.com/repos/IEvangelist/actions/hooks",
                    "html_url": "https://github.com/IEvangelist/actions",
                    "id": 673488426,
                    "is_template": false,
                    "issue_comment_url": "https://api.github.com/repos/IEvangelist/actions/issues/comments{/number}",
                    "issue_events_url": "https://api.github.com/repos/IEvangelist/actions/issues/events{/number}",
                    "issues_url": "https://api.github.com/repos/IEvangelist/actions/issues{/number}",
                    "keys_url": "https://api.github.com/repos/IEvangelist/actions/keys{/key_id}",
                    "labels_url": "https://api.github.com/repos/IEvangelist/actions/labels{/name}",
                    "language": null,
                    "languages_url": "https://api.github.com/repos/IEvangelist/actions/languages",
                    "license": null,
                    "merges_url": "https://api.github.com/repos/IEvangelist/actions/merges",
                    "milestones_url": "https://api.github.com/repos/IEvangelist/actions/milestones{/number}",
                    "mirror_url": null,
                    "name": "actions",
                    "node_id": "R_kgDOKCSeKg",
                    "notifications_url": "https://api.github.com/repos/IEvangelist/actions/notifications{?since,all,participating}",
                    "open_issues": 3,
                    "open_issues_count": 3,
                    "owner": {
                      "avatar_url": "https://avatars.githubusercontent.com/u/7679720?v=4",
                      "events_url": "https://api.github.com/users/IEvangelist/events{/privacy}",
                      "followers_url": "https://api.github.com/users/IEvangelist/followers",
                      "following_url": "https://api.github.com/users/IEvangelist/following{/other_user}",
                      "gists_url": "https://api.github.com/users/IEvangelist/gists{/gist_id}",
                      "gravatar_id": "",
                      "html_url": "https://github.com/IEvangelist",
                      "id": 7679720,
                      "login": "IEvangelist",
                      "node_id": "MDQ6VXNlcjc2Nzk3MjA=",
                      "organizations_url": "https://api.github.com/users/IEvangelist/orgs",
                      "received_events_url": "https://api.github.com/users/IEvangelist/received_events",
                      "repos_url": "https://api.github.com/users/IEvangelist/repos",
                      "site_admin": false,
                      "starred_url": "https://api.github.com/users/IEvangelist/starred{/owner}{/repo}",
                      "subscriptions_url": "https://api.github.com/users/IEvangelist/subscriptions",
                      "type": "User",
                      "url": "https://api.github.com/users/IEvangelist"
                    },
                    "private": true,
                    "pulls_url": "https://api.github.com/repos/IEvangelist/actions/pulls{/number}",
                    "pushed_at": "2023-09-13T19:56:42Z",
                    "releases_url": "https://api.github.com/repos/IEvangelist/actions/releases{/id}",
                    "size": 11,
                    "ssh_url": "git@github.com:IEvangelist/actions.git",
                    "stargazers_count": 0,
                    "stargazers_url": "https://api.github.com/repos/IEvangelist/actions/stargazers",
                    "statuses_url": "https://api.github.com/repos/IEvangelist/actions/statuses/{sha}",
                    "subscribers_url": "https://api.github.com/repos/IEvangelist/actions/subscribers",
                    "subscription_url": "https://api.github.com/repos/IEvangelist/actions/subscription",
                    "svn_url": "https://github.com/IEvangelist/actions",
                    "tags_url": "https://api.github.com/repos/IEvangelist/actions/tags",
                    "teams_url": "https://api.github.com/repos/IEvangelist/actions/teams",
                    "topics": [],
                    "trees_url": "https://api.github.com/repos/IEvangelist/actions/git/trees{/sha}",
                    "updated_at": "2023-08-01T18:34:17Z",
                    "url": "https://api.github.com/repos/IEvangelist/actions",
                    "visibility": "private",
                    "watchers": 0,
                    "watchers_count": 0,
                    "web_commit_signoff_required": false
                  },
                  "sender": {
                    "avatar_url": "https://avatars.githubusercontent.com/u/7679720?v=4",
                    "events_url": "https://api.github.com/users/IEvangelist/events{/privacy}",
                    "followers_url": "https://api.github.com/users/IEvangelist/followers",
                    "following_url": "https://api.github.com/users/IEvangelist/following{/other_user}",
                    "gists_url": "https://api.github.com/users/IEvangelist/gists{/gist_id}",
                    "gravatar_id": "",
                    "html_url": "https://github.com/IEvangelist",
                    "id": 7679720,
                    "login": "IEvangelist",
                    "node_id": "MDQ6VXNlcjc2Nzk3MjA=",
                    "organizations_url": "https://api.github.com/users/IEvangelist/orgs",
                    "received_events_url": "https://api.github.com/users/IEvangelist/received_events",
                    "repos_url": "https://api.github.com/users/IEvangelist/repos",
                    "site_admin": false,
                    "starred_url": "https://api.github.com/users/IEvangelist/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/IEvangelist/subscriptions",
                    "type": "User",
                    "url": "https://api.github.com/users/IEvangelist"
                  }
                }
            }
            """;
        #endregion

        var context = Context.FromJson(json);

        Assert.NotNull(context);
        Assert.Equal("IEvangelist", context.Repo.Owner);
        Assert.Equal("actions", context.Repo.Repo);
        Assert.Equal(4, context.Issue.Number);
        Assert.NotNull(context.Payload);
        Assert.Equal("opened", context.Payload.Action);
        Assert.NotNull(context.Payload.PullRequest);
    }
}